function nShell(e,t,n){n=n||"&gt;";var o=t,l=n,p=o+l,r=document.getElementById(e);r.className+=" nShell";var a,s=!0,m=[],c=0,u=!0,h=!1,f={};r.innerHTML="",self=this,nShell.prototype.post=function(e){var t=document.createElement("br");r.appendChild(t);var n=document.createElement("span");n.innerHTML=e,r.appendChild(n)},nShell.prototype.setOptions=function(t){for(var n in t)if("case-sensitive"==n||"caseSensitive"==n)s=t[n];else if("font-size"==n||"fontSize"==n)r.style.fontSize=t[n];else if("font-family"==n||"fontFamily"==n)r.style.fontFamily=t[n];else if("color"==n)r.style.color=t[n];else{if("background-color"!=n&&"backgroundColor"!=n)throw"[nShell] #"+e+": Invalid Option '"+n+"'.";r.style.backgroundColor=t[n]}},nShell.prototype.caseSensitive=function(e){s=e},nShell.prototype.fontSize=function(e){r.style.fontSize=e},nShell.prototype.fontFamily=function(e){r.style.fontFamily=e},nShell.prototype.color=function(e){r.style.color=e},nShell.prototype.backgroundColor=function(e){r.style.backgroundColor=e},nShell.prototype.setCommand=function(){var t=Array.prototype.slice.call(arguments);if(1==t.length&&"object"==typeof t[0]){t=t[0];for(var n in t)f[n]=t[n]}else if(2==t.length&&"string"==typeof t[0])f[t[0]]=t[1];else{if(1!=t.length||"function"!=typeof t[0])throw"[nShell] #"+e+": Invalid command definition.";a=t[0]}},nShell.prototype.proc=function(e){if(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),inp=e,s||(inp=e.toLowerCase()),f[inp]){for(var t in f)if(inp==t)if("function"==typeof f[t]){var n=f[t]()||"";nShell.prototype.post(n)}else nShell.prototype.post(f[t])}else a?a(inp):nShell.prototype.post(e+": Command not found.")},nShell.prototype["throw"]=function(){var t=Array.prototype.slice.call(arguments);if(1==t.length)nShell.prototype.post(t+": Command not found.");else{if(2!=t.length)throw"[nShell] #"+e+": Invalid throw() error.";t[0]?nShell.prototype.post(t[0]+": "+t[1]):nShell.prototype.post(t[1])}},nShell.prototype.shprompt=function(){var e=document.createElement("br");r.getElementsByClassName("shprompt")[0]&&r.appendChild(e);var t=document.createElement("span");t.setAttribute("class","shprompt"),r.appendChild(t);var n=document.createElement("input");for(n.setAttribute("type","text"),n.setAttribute("autofocus","autofocus"),n.setAttribute("class","shpromptinp"),n.setAttribute("maxlength","64"),r.appendChild(n),i=0;i<r.getElementsByClassName("shprompt").length;i++)r.getElementsByClassName("shprompt")[i].innerHTML="<b>"+p+"</b>&nbsp;";r.getElementsByClassName("shpromptinp")[0].focus(),r.getElementsByClassName("shpromptinp")[0].select()},r.addEventListener("keypress",function(e){var t=e.which||e.keyCode;if(13===t){if(r.getElementsByTagName("input")[0].value.replace(/ /g,"")){var n=r.getElementsByTagName("input")[r.getElementsByTagName("input").length-1],o=n.parentNode,l=n.value,p=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");o.removeChild(n);var a=document.createElement("div");a.className+=" input",a.innerHTML=p,o.appendChild(a),nShell.prototype.proc(l)}m.unshift(l),nShell.prototype.shprompt(),r.getElementsByTagName("input")[document.getElementsByTagName("input").length-1].innerHTML="",c=0,u=!0}}),r.addEventListener("keydown",function(e){var t=e.which||e.keyCode;38===t?(1==u&&(m.unshift(r.getElementsByTagName("input")[r.getElementsByTagName("input").length-1].value),u=!1),""==m[0]&&(h=!0),m=m.filter(function(e){return!!e}),h&&(m.unshift(""),h=!1),void 0!==m[c+1]&&(c+=1),r.getElementsByTagName("input")[0].value=m[c]):40===t&&(void 0!==m[c-1]&&(c-=1),r.getElementsByTagName("input")[0].value=m[c])}),r.addEventListener("click",function(){r.getElementsByClassName("shpromptinp")[0].focus(),r.getElementsByClassName("shpromptinp")[0].select()}),nShell.prototype.shprompt()}